
#import <Foundation/Foundation.h>

@interface TornData : NSObject

@end

@implementation TornData

//: Modify_group_nickname
+ (NSString *)spacingRetchSettings {
    /* static */ NSString *spacingRetchSettings = nil;
    if (!spacingRetchSettings) {
		NSString *origin = @"151B09567340B5A2EE3254494E4B5E444C57545A5544534E48505346524A3F";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        spacingRetchSettings = [self StringFromTornData:value];
    }
    return spacingRetchSettings;
}

//: leftEdge
+ (NSString *)layoutFitHelper {
    /* static */ NSString *layoutFitHelper = nil;
    if (!layoutFitHelper) {
		NSString *origin = @"085E06B4081A0E070816E706090741";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        layoutFitHelper = [self StringFromTornData:value];
    }
    return layoutFitHelper;
}

//: group_member_info_activity_mute_msg
+ (NSString *)appBareStuffName {
    /* static */ NSString *appBareStuffName = nil;
    if (!appBareStuffName) {
		NSString *origin = @"23120A9D0C874BCFC92455605D635E4D5B535B5053604D575C545D4D4F516257645762674D5B6362534D5B61559E";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        appBareStuffName = [self StringFromTornData:value];
    }
    return appBareStuffName;
}

//: accessory
+ (NSString *)colorAttitudeTimer {
    /* static */ NSString *colorAttitudeTimer = nil;
    if (!colorAttitudeTimer) {
		NSString *origin = @"094C0855244FB9C515171719272723262DA1";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        colorAttitudeTimer = [self StringFromTornData:value];
    }
    return colorAttitudeTimer;
}

//: contact_tag_fragment_sure
+ (NSString *)featureHarpPath {
    /* static */ NSString *featureHarpPath = nil;
    if (!featureHarpPath) {
		NSString *origin = @"193F077BD89B4524302F352224352035222820273322282E262F352034363326A9";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        featureHarpPath = [self StringFromTornData:value];
    }
    return featureHarpPath;
}

//: 取消管理员
+ (NSString *)appMatDiabetesFormat {
    /* static */ NSString *appMatDiabetesFormat = nil;
    if (!appMatDiabetesFormat) {
		NSString *origin = @"0F330A2E971DBA0BD087B25C63B38355B47B6EB45D53B25E65DB";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        appMatDiabetesFormat = [self StringFromTornData:value];
    }
    return appMatDiabetesFormat;
}

//: footerTitle
+ (NSString *)kBareConfig {
    /* static */ NSString *kBareConfig = nil;
    if (!kBareConfig) {
		NSString *origin = @"0B550BA56ED3569E5C13CD111A1A1F101DFF141F1710F5";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        kBareConfig = [self StringFromTornData:value];
    }
    return kBareConfig;
}

//: user
+ (NSString *)k_uhKey {
    /* static */ NSString *k_uhKey = nil;
    if (!k_uhKey) {
		NSString *origin = @"04120BA0B364DB2E3A75F663615360CE";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        k_uhKey = [self StringFromTornData:value];
    }
    return k_uhKey;
}

//: 设为管理员
+ (NSString *)viewBoundOffingDevice {
    /* static */ NSString *viewBoundOffingDevice = nil;
    if (!viewBoundOffingDevice) {
		NSString *origin = @"0F3B03AD7383A97D7FAC7366AC554BAA565DD9";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        viewBoundOffingDevice = [self StringFromTornData:value];
    }
    return viewBoundOffingDevice;
}

//: disableUserInteraction
+ (NSString *)moduleGalleryTossData {
    /* static */ NSString *moduleGalleryTossData = nil;
    if (!moduleGalleryTossData) {
		NSString *origin = @"163C0B376E4771E9F7D35F282D3725263029193729360D323829362527382D3332FB";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        moduleGalleryTossData = [self StringFromTornData:value];
    }
    return moduleGalleryTossData;
}

//: detailTitle
+ (NSString *)viewConventDevice {
    /* static */ NSString *viewConventDevice = nil;
    if (!viewConventDevice) {
		NSString *origin = @"0B0109A81DB8309AA763647360686B5368736B64A7";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        viewConventDevice = [self StringFromTornData:value];
    }
    return viewConventDevice;
}

//: updateMute:
+ (NSString *)moduleSurroundPreference {
    /* static */ NSString *moduleSurroundPreference = nil;
    if (!moduleSurroundPreference) {
		NSString *origin = @"0B420955AB3C500E68332E221F32230B333223F81A";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        moduleSurroundPreference = [self StringFromTornData:value];
    }
    return moduleSurroundPreference;
}

//: 管理员操作
+ (NSString *)layoutStartName {
    /* static */ NSString *layoutStartName = nil;
    if (!layoutStartName) {
		NSString *origin = @"0F0905AAA7DEA598DE877DDC888FDD8A84DBB4931D";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        layoutStartName = [self StringFromTornData:value];
    }
    return layoutStartName;
}

//: extraInfo
+ (NSString *)widgetAimPreference {
    /* static */ NSString *widgetAimPreference = nil;
    if (!widgetAimPreference) {
		NSString *origin = @"095C0DFE564197FE788CE9DF7D091C181605ED120A13DD";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        widgetAimPreference = [self StringFromTornData:value];
    }
    return widgetAimPreference;
}

//: 未设置
+ (NSString *)layoutRetchPreference {
    /* static */ NSString *layoutRetchPreference = nil;
    if (!layoutRetchPreference) {
		NSString *origin = @"091C08B94B428FE6CA808ECC92A2CBA192F8";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        layoutRetchPreference = [self StringFromTornData:value];
    }
    return layoutRetchPreference;
}

//: activity_group_member_info2_shenfen
+ (NSString *)coreBoostPlatform {
    /* static */ NSString *coreBoostPlatform = nil;
    if (!coreBoostPlatform) {
		NSString *origin = @"23120B7AC3738194D6F0B54F516257645762674D55605D635E4D5B535B5053604D575C545D204D6156535C54535C38";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        coreBoostPlatform = [self StringFromTornData:value];
    }
    return coreBoostPlatform;
}

//: activity_group_info_group_nick
+ (NSString *)commonDelicateName {
    /* static */ NSString *commonDelicateName = nil;
    if (!commonDelicateName) {
		NSString *origin = @"1E5C0A1E5BAF8FCA40020507180D1A0D181D030B16131914030D120A13030B1613191403120D070F8E";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        commonDelicateName = [self StringFromTornData:value];
    }
    return commonDelicateName;
}

//: updateTeamNick
+ (NSString *)widgetTurnDevice {
    /* static */ NSString *widgetTurnDevice = nil;
    if (!widgetTurnDevice) {
		NSString *origin = @"0E0207939544DB736E625F726352635F6B4C67616933";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        widgetTurnDevice = [self StringFromTornData:value];
    }
    return widgetTurnDevice;
}

//: row
+ (NSString *)moduleOperationKey {
    /* static */ NSString *moduleOperationKey = nil;
    if (!moduleOperationKey) {
		NSString *origin = @"03300B562AA475D8DBA792423F470B";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        moduleOperationKey = [self StringFromTornData:value];
    }
    return moduleOperationKey;
}

//: forbidSelect
+ (NSString *)kHeartId {
    /* static */ NSString *kHeartId = nil;
    if (!kHeartId) {
		NSString *origin = @"0C4A04061C2528181F1A091B221B192A32";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        kHeartId = [self StringFromTornData:value];
    }
    return kHeartId;
}

+ (Byte *)TornDataToCache:(Byte *)data {
    int hugeBrain = data[0];
    Byte deliberate = data[1];
    int minDry = data[2];
    for (int i = minDry; i < minDry + hugeBrain; i++) {
        int value = data[i] + deliberate;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[minDry + hugeBrain] = 0;
    return data + minDry;
}

//: remove_member
+ (NSString *)widgetImpPreference {
    /* static */ NSString *widgetImpPreference = nil;
    if (!widgetImpPreference) {
		NSString *origin = @"0D610C8BDDB063DC683FE84211040C0E1504FE0C040C010411DA";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        widgetImpPreference = [self StringFromTornData:value];
    }
    return widgetImpPreference;
}

//: disable
+ (NSString *)viewRetchText {
    /* static */ NSString *viewRetchText = nil;
    if (!viewRetchText) {
		NSString *origin = @"0750060D7D3814192311121C15C8";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        viewRetchText = [self StringFromTornData:value];
    }
    return viewRetchText;
}

//: cellClass
+ (NSString *)moduleProceedHelper {
    /* static */ NSString *moduleProceedHelper = nil;
    if (!moduleProceedHelper) {
		NSString *origin = @"092F0654271534363D3D143D32444474";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        moduleProceedHelper = [self StringFromTornData:value];
    }
    return moduleProceedHelper;
}

//: action
+ (NSString *)layoutSeemMessage {
    /* static */ NSString *layoutSeemMessage = nil;
    if (!layoutSeemMessage) {
		NSString *origin = @"061D06A232DA4446574C5251B0";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        layoutSeemMessage = [self StringFromTornData:value];
    }
    return layoutSeemMessage;
}

+ (NSData *)TornDataToData:(NSString *)value {
    NSMutableArray<NSNumber *> *array = [NSMutableArray array];
    for (NSUInteger i = 0; i < value.length; i += 2) {
        NSString *hex = [value substringWithRange:NSMakeRange(i, 2)];
        NSScanner *scanner = [NSScanner scannerWithString:hex];
        unsigned int num;
        if ([scanner scanHexInt:&num]) {
            [array addObject:@(num)];
        }
    }

    NSInteger length = array.count;
    Byte *buffer = (Byte *)malloc(length + 1);
    for (int i = 0; i < length; i++) {
        buffer[i] = [array[i] intValue];
    }
    buffer[length] = 0;
    return [NSData dataWithBytesNoCopy:buffer length:length freeWhenDone:YES];
}

//: updateTeamRole
+ (NSString *)componentModernHelper {
    /* static */ NSString *componentModernHelper = nil;
    if (!componentModernHelper) {
		NSString *origin = @"0E2A07565A3A044B463A374A3B2A3B37432845423B23";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        componentModernHelper = [self StringFromTornData:value];
    }
    return componentModernHelper;
}

//: 群名片
+ (NSString *)featureRoughlyValue {
    /* static */ NSString *featureRoughlyValue = nil;
    if (!featureRoughlyValue) {
		NSString *origin = @"095106E0273E966D53943F3C963836AF";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        featureRoughlyValue = [self StringFromTornData:value];
    }
    return featureRoughlyValue;
}

//: 本地不存在
+ (NSString *)spacingEmergencyPath {
    /* static */ NSString *spacingEmergencyPath = nil;
    if (!spacingEmergencyPath) {
		NSString *origin = @"0F1603D08696CF869ACEA277CF9782CF869222";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        spacingEmergencyPath = [self StringFromTornData:value];
    }
    return spacingEmergencyPath;
}

//: title
+ (NSString *)componentLapRecSettings {
    /* static */ NSString *componentLapRecSettings = nil;
    if (!componentLapRecSettings) {
		NSString *origin = @"05470DDC760D590BF097658EBC2D222D251E57";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        componentLapRecSettings = [self StringFromTornData:value];
    }
    return componentLapRecSettings;
}

+ (NSString *)StringFromTornData:(Byte *)data {
    return [NSString stringWithUTF8String:(char *)[self TornDataToCache:data]];
}

//: TeamListDataTeamMembers_Changed
+ (NSString *)layoutReserveText {
    /* static */ NSString *layoutReserveText = nil;
    if (!layoutReserveText) {
		NSString *origin = @"1F570D54FC2B315203B27A4B72FD0E0A16F5121C1DED0A1D0AFD0E0A16F60E160B0E1B1C08EC110A17100E0DE6";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        layoutReserveText = [self StringFromTornData:value];
    }
    return layoutReserveText;
}

//: rowHeight
+ (NSString *)spacingVocalGutTooPath {
    /* static */ NSString *spacingVocalGutTooPath = nil;
    if (!spacingVocalGutTooPath) {
		NSString *origin = @"090203706D75466367656672DF";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        spacingVocalGutTooPath = [self StringFromTornData:value];
    }
    return spacingVocalGutTooPath;
}

//: headerTitle
+ (NSString *)commonSixthTitle {
    /* static */ NSString *commonSixthTitle = nil;
    if (!commonSixthTitle) {
		NSString *origin = @"0B09087983E3C7225F5C585B5C694B606B635CD4";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        commonSixthTitle = [self StringFromTornData:value];
    }
    return commonSixthTitle;
}

//: userType
+ (NSString *)styleTrackAwakeMessage {
    /* static */ NSString *styleTrackAwakeMessage = nil;
    if (!styleTrackAwakeMessage) {
		NSString *origin = @"085F0D2F07772C4B0A62BE545416140613F51A11066E";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        styleTrackAwakeMessage = [self StringFromTornData:value];
    }
    return styleTrackAwakeMessage;
}

//: contact_tag_fragment_cancel
+ (NSString *)appMatStartPath {
    /* static */ NSString *appMatStartPath = nil;
    if (!appMatStartPath) {
		NSString *origin = @"1B21044E424E4D534042533E5340463E455140464C444D533E42404D42444B1B";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        appMatStartPath = [self StringFromTornData:value];
    }
    return appMatStartPath;
}

//: onKickBtnClick:
+ (NSString *)widgetUnitySleeveValue {
    /* static */ NSString *widgetUnitySleeveValue = nil;
    if (!widgetUnitySleeveValue) {
		NSString *origin = @"0F460B23E88363D19C0F22292805231D25FC2E28FD26231D25F478";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        widgetUnitySleeveValue = [self StringFromTornData:value];
    }
    return widgetUnitySleeveValue;
}

//: activity_group_member_info2_inviter
+ (NSString *)themeAntValue {
    /* static */ NSString *themeAntValue = nil;
    if (!themeAntValue) {
		NSString *origin = @"230F04295254655A675A656A505863606661505E565E535663505A5F576023505A5F675A655663BF";
		NSData *data = [TornData TornDataToData:origin];
        Byte *value = (Byte *)data.bytes;
        themeAntValue = [self StringFromTornData:value];
    }
    return themeAntValue;
}

@end       

// __DEBUG__
// __CLOSE_PRINT__
//
//  TeamMemberCardViewController.m
//  NIM
//
//  Created by Xuhui on 15/3/19.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "ZZZTeamMemberCardViewController.h"
#import "ListViewController.h"
//: #import "ZZZCommonTableData.h"
#import "ZZZCommonTableData.h"
//: #import "ZZZCommonTableDelegate.h"
#import "HapCompound.h"
//: #import "ZZZAvatarImageView.h"
#import "CreateView.h"
//: #import "ZZZTeamCardMemberItem.h"
#import "FlashItem.h"
//: #import "ZZZKitUtil.h"
#import "PayerMinimal.h"
//: #import "ZZZKitDependency.h"
#import "ZZZKitDependency.h"
//: #import "AppleProjectKit.h"
#import "Reek.h"
//: #import "UIViewNimKit.h"
#import "UIViewNimKit.h"
//: #import "ZZZKitColorButtonCell.h"
#import "KitPayerView.h"
//: #import "ZZZKitSwitcherCell.h"
#import "CompoundView.h"
//: #import "ZZZKitInfoFetchOption.h"
#import "HeatMobileOption.h"
//: #import "ZZZTeamHelper.h"
#import "BlocHelper.h"

//: @interface ZZZTeamMemberCardViewController () <UIActionSheetDelegate>{
@interface ListViewController () <UIActionSheetDelegate>{
    //: UIAlertView *_kickAlertView;
    UIAlertView *_but;
    //: UIAlertView *_updateNickAlertView;
    UIAlertView *_pinPolicy;
}

//: @property (nonatomic,strong) NSArray *data;
@property (nonatomic,strong) NSArray *data;

//: @property (nonatomic,weak) id <ZZZTeamMemberListDataSource> dataSource;
@property (nonatomic,weak) id <RareSource> dataSource;

//: @property (strong, nonatomic) UITableView *tableView;
@property (strong, nonatomic) UITableView *tableView;

//: @property (nonatomic, weak) ZZZTeamCardMemberItem *member;
@property (nonatomic, weak) FlashItem *member;

//: @property (nonatomic,strong) ZZZCommonTableDelegate *delegator;
@property (nonatomic,strong) HapCompound *delegator;

//: @property (nonatomic, copy) NSString *memberId;
@property (nonatomic, copy) NSString *memberId;

//: @property (nonatomic, weak) ZZZTeamCardMemberItem *viewer;
@property (nonatomic, weak) FlashItem *viewer;

//: @end
@end

//: @implementation ZZZTeamMemberCardViewController
@implementation ListViewController

//: - (void)onKickBtnClick:(id)sender {
- (void)moveTriumph:(id)sender {
    //: _kickAlertView = [[UIAlertView alloc] initWithTitle:@""
    _but = [[UIAlertView alloc] initWithTitle:@""
                                                //: message:[NTESLanguageManager getTextWithKey:@"remove_member"]//@"移出本群".string_localized
                                                message:[CarefulRage formatExtend:[TornData widgetImpPreference]]//@"移出本群".string_localized
                                               //: delegate:self
                                               delegate:self
                                      //: cancelButtonTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"]
                                      cancelButtonTitle:[CarefulRage formatExtend:[TornData appMatStartPath]]
                                      //: otherButtonTitles:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_sure"], nil];
                                      otherButtonTitles:[CarefulRage formatExtend:[TornData featureHarpPath]], nil];
    //: [_kickAlertView show];
    [_but show];
}

//: - (instancetype)initWithMember:(NSString *)userId
- (instancetype)initWithPoint:(NSString *)userId
                    //: dataSource:(id <ZZZTeamMemberListDataSource>) dataSource {
                    remoteBelowPoint:(id <RareSource>) dataSource {
    //: if (self = [super init]) {
    if (self = [super init]) {
        //: _memberId = userId;
        _memberId = userId;
        //: _dataSource = dataSource;
        _dataSource = dataSource;
        //: [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(teamMemberUpdate:) name:@"TeamListDataTeamMembers_Changed" object:nil];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(froming:) name:[TornData layoutReserveText] object:nil];
    }
    //: return self;
    return self;
}

//: - (void)teamMemberUpdate:(NSNotification *)note {
- (void)froming:(NSNotification *)note {
    //: [self refreshData];
    [self behindCircuit];
}

//: #pragma mark - UIAlertViewDelegate
#pragma mark - UIAlertViewDelegate
//: - (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex{
- (void)limit:(UIAlertView *)alertView happeningPhoto:(NSInteger)buttonIndex{
    //: if (alertView == _kickAlertView) {
    if (alertView == _but) {
        //: if(alertView.cancelButtonIndex != buttonIndex) {
        if(alertView.cancelButtonIndex != buttonIndex) {
            //: NSString *userId = self.member.userId;
            NSString *userId = self.member.userId;
            //: __weak typeof(self) weakSelf = self;
            __weak typeof(self) weakSelf = self;
            //: [_dataSource kickUsers:@[userId] completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
            [_dataSource leave:@[userId] permission:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
                //: [weakSelf showToastMsg:msg];
                [weakSelf show:msg];
                //: if (!error) {
                if (!error) {
                    //: [weakSelf.navigationController popViewControllerAnimated:NO];
                    [weakSelf.navigationController popViewControllerAnimated:NO];
                    //: if([weakSelf.delegate respondsToSelector:@selector(onTeamMemberKicked:)]) {
                    if([weakSelf.delegate respondsToSelector:@selector(curtailments:)]) {
                        //: [weakSelf.delegate onTeamMemberKicked:weakSelf.member];
                        [weakSelf.delegate curtailments:weakSelf.member];
                    }
                }
            //: }];
            }];
        }
    }
    //: if (alertView == _updateNickAlertView) {
    if (alertView == _pinPolicy) {
        //: switch (buttonIndex) {
        switch (buttonIndex) {
            //: case 0:
            case 0://取消
                //: break;
                break;
            //: case 1:{
            case 1:{
                //: NSString *name = [alertView textFieldAtIndex:0].text;
                NSString *name = [alertView textFieldAtIndex:0].text;
                //: NSString *userId = self.member.userId;
                NSString *userId = self.member.userId;
                //: __weak typeof(self) weakSelf = self;
                __weak typeof(self) weakSelf = self;
                //: [_dataSource updateUserNick:userId nick:name completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
                [_dataSource linkModify:userId capabilityLock:name strokeCompletion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
                    //: [weakSelf showToastMsg:msg];
                    [weakSelf show:msg];
                //: }];
                }];
                //: break;
                break;
            }
            //: default:
            default:
                //: break;
                break;
        }
    }
}

//: #pragma mark - Getter
#pragma mark - Getter
//: - (UITableView *)tableView {
- (UITableView *)tableView {
    //: if (!_tableView) {
    if (!_tableView) {
        //: _tableView = [[UITableView alloc] initWithFrame:self.view.bounds style:UITableViewStylePlain];
        _tableView = [[UITableView alloc] initWithFrame:self.view.bounds style:UITableViewStylePlain];
        //: _tableView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
        _tableView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
        //: _tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
        _tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
        //: _tableView.tableFooterView = [UIView new];
        _tableView.tableFooterView = [UIView new];
    }
    //: return _tableView;
    return _tableView;
}

//: - (BOOL)canKickTeamMember {
- (BOOL)canTab {
    //: BOOL ret = [self canUpdateTeamMember];
    BOOL ret = [self challenge];
    //: return ret;
    return ret;
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.navigationItem.title = @"群名片".string_localized;
    self.navigationItem.title = [TornData featureRoughlyValue].title;
    //: [self.view addSubview:self.tableView];
    [self.view addSubview:self.tableView];

    //: [self refreshData];
    [self behindCircuit];
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: self.delegator = [[ZZZCommonTableDelegate alloc] initWithTableData:^NSArray *{
    self.delegator = [[HapCompound alloc] initWithRawData:^NSArray *{
        //: return wself.data;
        return wself.data;
    //: }];
    }];
    //: self.tableView.delegate = self.delegator;
    self.tableView.delegate = self.delegator;
    //: self.tableView.dataSource = self.delegator;
    self.tableView.dataSource = self.delegator;
}

//: - (void)showToastMsg:(NSString *)msg {
- (void)show:(NSString *)msg {
    //: if (msg) {
    if (msg) {
        //: [self.view makeToast:msg
        [self.view res:msg
                    //: duration:2.0
                    enableQuick:2.0
                    //: position:CSToastPositionCenter];
                    primary:themeForceTitle];
    }
}

//: - (BOOL)isOwner {
- (BOOL)first {
    //: return self.viewer.userType == NIMTeamMemberTypeOwner;
    return self.viewer.rejectMost == NIMTeamMemberTypeOwner;
}

//: - (void)dealloc {
- (void)dealloc {
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}

//: #pragma mark - UIActionSheetDelegate
#pragma mark - UIActionSheetDelegate
//: - (void)actionSheet:(UIActionSheet *)actionSheet didDismissWithButtonIndex:(NSInteger)buttonIndex{
- (void)actionSheet:(UIActionSheet *)actionSheet didDismissWithButtonIndex:(NSInteger)buttonIndex{
    //: if(buttonIndex == 0) {
    if(buttonIndex == 0) {
        //: NSString *userId = self.member.userId;
        NSString *userId = self.member.userId;
        //: NIMTeamMemberType userType = self.member.userType;
        NIMTeamMemberType userType = self.member.rejectMost;
        //: if (userType == NIMTeamMemberTypeManager) {
        if (userType == NIMTeamMemberTypeManager) {
            //: [self removeManager:userId];
            [self responseOf:userId];
        //: }else{
        }else{
            //: [self addManager:userId];
            [self format:userId];
        }
    }
}

//: - (void)updateTeamNick
- (void)productPostDescription
{
    //: _updateNickAlertView = [[UIAlertView alloc] initWithTitle:@""
    _pinPolicy = [[UIAlertView alloc] initWithTitle:@""
                                                      //: message:[NTESLanguageManager getTextWithKey:@"Modify_group_nickname"]//@"修改群昵称".string_localized
                                                      message:[CarefulRage formatExtend:[TornData spacingRetchSettings]]//@"修改群昵称".string_localized
                                                     //: delegate:self
                                                     delegate:self
                                            //: cancelButtonTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"]
                                            cancelButtonTitle:[CarefulRage formatExtend:[TornData appMatStartPath]]
                                            //: otherButtonTitles:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_sure"], nil];
                                            otherButtonTitles:[CarefulRage formatExtend:[TornData featureHarpPath]], nil];
    //: _updateNickAlertView.alertViewStyle = UIAlertViewStylePlainTextInput;
    _pinPolicy.alertViewStyle = UIAlertViewStylePlainTextInput;
    //: [_updateNickAlertView show];
    [_pinPolicy show];
}

//: - (BOOL)canUpdateTeamMember {
- (BOOL)challenge {
    //: BOOL ret = NO;
    BOOL ret = NO;
    //: BOOL viewerIsOwner = [self isOwner];
    BOOL viewerIsOwner = [self first];
    //: BOOL viewerIsManager = self.viewer.userType == NIMTeamMemberTypeManager;
    BOOL viewerIsManager = self.viewer.rejectMost == NIMTeamMemberTypeManager;
    //: BOOL memberIsNormal = self.member.userType == NIMTeamMemberTypeNormal;
    BOOL memberIsNormal = self.member.rejectMost == NIMTeamMemberTypeNormal;
    //: if (viewerIsOwner) {
    if (viewerIsOwner) {
        //: ret = ![self isSelf];
        ret = ![self exclude];
    //: } else if (viewerIsManager) {
    } else if (viewerIsManager) {
        //: ret = memberIsNormal;
        ret = memberIsNormal;
    }
    //: return ret;
    return ret;
}

//: - (void)updateMute:(UISwitch *)switcher {
- (void)same:(UISwitch *)switcher {
    //: NSString *userId = self.member.userId;
    NSString *userId = self.member.userId;
    //: BOOL mute = switcher.on;
    BOOL mute = switcher.on;
    //: __block typeof(self) wself = self;
    __block typeof(self) wself = self;
    //: [_dataSource updateUserMuteState:userId mute:mute completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
    [_dataSource taxOffly:userId boardOn:mute curve:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
        //: [wself showToastMsg:msg];
        [wself show:msg];
        //: if (error) {
        if (error) {
            //: switcher.on = !mute;
            switcher.on = !mute;
        }
        //: if (wself.delegate && [wself.delegate respondsToSelector:@selector(onTeamMemberMuted:mute:)]) {
        if (wself.delegate && [wself.delegate respondsToSelector:@selector(control:sumRelation:)]) {
            //: [wself.delegate onTeamMemberMuted:wself.member mute:mute];
            [wself.delegate control:wself.member sumRelation:mute];
        }
    //: }];
    }];
}

//: - (void)removeManager:(NSString *)memberId{
- (void)responseOf:(NSString *)memberId{
    //: NSString *userId = self.member.userId;
    NSString *userId = self.member.userId;
    //: __block typeof(self) wself = self;
    __block typeof(self) wself = self;
    //: [_dataSource removeManagers:@[userId] completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
    [_dataSource discover:@[userId] resembleCompletion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
        //: [wself showToastMsg:msg];
        [wself show:msg];
    //: }];
    }];
}

//: - (void)updateTeamRole
- (void)quantityerval
{
    //: if (![self canChangeUserType]) {
    if (![self via]) {
        //: return;
        return;
    }
    //: UIActionSheet *sheet = [[UIActionSheet alloc] initWithTitle:[NTESLanguageManager getTextWithKey:@"管理员操作"]
    UIActionSheet *sheet = [[UIActionSheet alloc] initWithTitle:[CarefulRage formatExtend:[TornData layoutStartName]]
                                                       //: delegate:self
                                                       delegate:self
                                              //: cancelButtonTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"]
                                              cancelButtonTitle:[CarefulRage formatExtend:[TornData appMatStartPath]]
                                         //: destructiveButtonTitle:nil
                                         destructiveButtonTitle:nil
                                              //: otherButtonTitles: self.member.userType == NIMTeamMemberTypeManager ? [NTESLanguageManager getTextWithKey:@"取消管理员"] : [NTESLanguageManager getTextWithKey:@"设为管理员"], nil];
                                              otherButtonTitles: self.member.rejectMost == NIMTeamMemberTypeManager ? [CarefulRage formatExtend:[TornData appMatDiabetesFormat]] : [CarefulRage formatExtend:[TornData viewBoundOffingDevice]], nil];
    //: [sheet showInView:self.view];
    [sheet showInView:self.view];
}

//: #pragma mark - Private
#pragma mark - Private
//: - (BOOL)isSelf {
- (BOOL)exclude {
    //: return [self.viewer.userId isEqualToString:self.member.userId];
    return [self.viewer.userId isEqualToString:self.member.userId];
}

//: - (void)refreshData{
- (void)behindCircuit{
    //: _viewer = _dataSource.myCard;
    _viewer = _dataSource.exclusiveModel;
    //: _member = [_dataSource memberWithUserId:_memberId];
    _member = [_dataSource trigger:_memberId];
    //: self.data = [self buildData];
    self.data = [self beggarMyNeighbourPolicy];
    //: [self.tableView reloadData];
    [self.tableView reloadData];
}

//: - (BOOL)canChangeUserType {
- (BOOL)via {
    //: BOOL ret = ([self isOwner] && ![self isSelf]);
    BOOL ret = ([self first] && ![self exclude]);
    //: return ret;
    return ret;
}

//: - (NSArray *)buildData{
- (NSArray *)beggarMyNeighbourPolicy{
    //: ZZZKitInfoFetchOption *option = [[ZZZKitInfoFetchOption alloc] init];
    HeatMobileOption *option = [[HeatMobileOption alloc] init];
    //: option.session = _dataSource.session;
    option.session = _dataSource.startMedia;
    //: ZZZKitInfo *usrInfo = [[AppleProjectKit sharedKit] infoByUser:_member.userId option:option];
    RobInvite *usrInfo = [[Reek style] sequence:_member.userId from:option];
    //: NSDictionary *headerItem = @{
    NSDictionary *headerItem = @{
                                 //: @"cellClass" : @"ZZZTeamMemberCardHeaderCell",
                                 [TornData moduleProceedHelper] : @"VocalBlueViewCell",
                                 //: @"rowHeight" : @(222),
                                 [TornData spacingVocalGutTooPath] : @(222),
                                 //: @"extraInfo" : @{@"user":usrInfo, @"userType":@(_member.userType)},
                                 [TornData widgetAimPreference] : @{[TornData k_uhKey]:usrInfo, [TornData styleTrackAwakeMessage]:@(_member.rejectMost)},
                                 //: @"leftEdge" : @(15)
                                 [TornData layoutFitHelper] : @(15)
                                 //: };
                                 };
    //: NSDictionary *nickItem = @{
    NSDictionary *nickItem = @{
                               //: @"title" : [NTESLanguageManager getTextWithKey:@"activity_group_info_group_nick"],
                               [TornData componentLapRecSettings] : [CarefulRage formatExtend:[TornData commonDelicateName]],
                               //: @"detailTitle" : (usrInfo.showName ?: [NTESLanguageManager getTextWithKey:@"未设置"]),
                               [TornData viewConventDevice] : (usrInfo.showName ?: [CarefulRage formatExtend:[TornData layoutRetchPreference]]),
                               //: @"action" : ([self isSelf] || [self canUpdateTeamMember])? @"updateTeamNick" : @"",
                               [TornData layoutSeemMessage] : ([self exclude] || [self challenge])? [TornData widgetTurnDevice] : @"",
                               //: @"accessory" : ([self isSelf] || [self canUpdateTeamMember])? @(YES) : @(NO),
                               [TornData colorAttitudeTimer] : ([self exclude] || [self challenge])? @(YES) : @(NO),
                               //: @"rowHeight" : @(50),
                               [TornData spacingVocalGutTooPath] : @(50),
                               //: @"leftEdge" : @(15),
                               [TornData layoutFitHelper] : @(15),
                               //: };
                               };

    //: NSDictionary *userTypeItem = @{
    NSDictionary *userTypeItem = @{
                                   //: @"title" : [NTESLanguageManager getTextWithKey:@"activity_group_member_info2_shenfen"],//@"身份".string_localized,
                                   [TornData componentLapRecSettings] : [CarefulRage formatExtend:[TornData coreBoostPlatform]],//@"身份".string_localized,
                                   //: @"detailTitle" : [ZZZTeamHelper memberTypeText:self.member.userType],
                                   [TornData viewConventDevice] : [BlocHelper can:self.member.rejectMost],
                                   //: @"action" : ([self isOwner] && ![self isSelf])? @"updateTeamRole" : @"",
                                   [TornData layoutSeemMessage] : ([self first] && ![self exclude])? [TornData componentModernHelper] : @"",
                                   //: @"accessory" : @([self canChangeUserType]),
                                   [TornData colorAttitudeTimer] : @([self via]),
                                   //: @"rowHeight" : @(50),
                                   [TornData spacingVocalGutTooPath] : @(50),
                                   //: @"leftEdge" : @(15),
                                   [TornData layoutFitHelper] : @(15),
                                   //: };
                                   };

    //: NSDictionary *inviterAccidItem = @{
    NSDictionary *inviterAccidItem = @{
                                       //: @"title" : [NTESLanguageManager getTextWithKey:@"activity_group_member_info2_inviter"],//@"邀请人".string_localized,
                                       [TornData componentLapRecSettings] : [CarefulRage formatExtend:[TornData themeAntValue]],//@"邀请人".string_localized,
                                       //: @"detailTitle" : _member.inviterAccid ? (_member.inviterAccid.length ? _member.inviterAccid : _member.userId) : @"本地不存在".string_localized,
                                       [TornData viewConventDevice] : _member.acceptable ? (_member.acceptable.length ? _member.acceptable : _member.userId) : [TornData spacingEmergencyPath].title,
                                       //: @"action" : @"",
                                       [TornData layoutSeemMessage] : @"",
                                       //: @"accessory" : [self isOwner] && ![self isSelf]? @(YES) : @(NO),
                                       [TornData colorAttitudeTimer] : [self first] && ![self exclude]? @(YES) : @(NO),
                                       //: @"rowHeight" : @(50),
                                       [TornData spacingVocalGutTooPath] : @(50),
                                       //: @"leftEdge" : @(15),
                                       [TornData layoutFitHelper] : @(15),
                                       //: };
                                       };

    //: NSDictionary *isMuteItem = @{
    NSDictionary *isMuteItem = @{
                                  //: @"title" : [NTESLanguageManager getTextWithKey:@"group_member_info_activity_mute_msg"],//@"设置禁言".string_localized,
                                  [TornData componentLapRecSettings] : [CarefulRage formatExtend:[TornData appBareStuffName]],//@"设置禁言".string_localized,
                                  //: @"cellClass" : @"ZZZKitSwitcherCell",
                                  [TornData moduleProceedHelper] : @"CompoundView",
                                  //: @"action" : @"updateMute:",
                                  [TornData layoutSeemMessage] : [TornData moduleSurroundPreference],
                                  //: @"forbidSelect" : @(YES),
                                  [TornData kHeartId] : @(YES),
                                  //: @"rowHeight" : @(50),
                                  [TornData spacingVocalGutTooPath] : @(50),
                                  //: @"disableUserInteraction":@(![self canUpdateTeamMember]),
                                  [TornData moduleGalleryTossData]:@(![self challenge]),
                                  //: @"extraInfo" : @(_member.isMuted),
                                  [TornData widgetAimPreference] : @(_member.calendar),
                                  //: @"leftEdge" : @(15),
                                  [TornData layoutFitHelper] : @(15),
                                  //: };
                                  };

    //: NSDictionary *kickItem = @{
    NSDictionary *kickItem = @{
                               //: @"title" : @"remove_member",//@"移出本群".string_localized,
                               [TornData componentLapRecSettings] : [TornData widgetImpPreference],//@"移出本群".string_localized,
                               //: @"cellClass" : @"ZZZKitColorButtonCell",
                               [TornData moduleProceedHelper] : @"KitPayerView",
                               //: @"action" : @"onKickBtnClick:",
                               [TornData layoutSeemMessage] : [TornData widgetUnitySleeveValue],
                               //: @"extraInfo" : @(KitColorButtonCellStyleRed),
                               [TornData widgetAimPreference] : @(KitColorButtonCellStyleRed),
                               //: @"rowHeight" : @(70),
                               [TornData spacingVocalGutTooPath] : @(70),
                               //: @"disable" : @([self isSelf] || ![self canKickTeamMember]),
                               [TornData viewRetchText] : @([self exclude] || ![self canTab]),
                               //: @"leftEdge" : @(0),
                               [TornData layoutFitHelper] : @(0),
                               //: };
                               };

    //: NSArray *rowContent = nil;
    NSArray *rowContent = nil;
    //: if (_member.teamType == NIMTeamTypeSuper) {
    if (_member.control == NIMTeamTypeSuper) {
        //: rowContent = @[headerItem, nickItem, userTypeItem, isMuteItem, kickItem];
        rowContent = @[headerItem, nickItem, userTypeItem, isMuteItem, kickItem];
    //: } else {
    } else {
        //: rowContent = @[headerItem, nickItem, userTypeItem, inviterAccidItem, isMuteItem, kickItem];
        rowContent = @[headerItem, nickItem, userTypeItem, inviterAccidItem, isMuteItem, kickItem];
    }

    //: NSArray *data = @[
    NSArray *data = @[
                      //: @{
                      @{
                          //: @"headerTitle":@"",
                          [TornData commonSixthTitle]:@"",
                          //: @"row" :rowContent,
                          [TornData moduleOperationKey] :rowContent,
                          //: @"footerTitle":@""
                          [TornData kBareConfig]:@""
                          //: },
                          },
                       //: ];
                       ];
    //: return [NIMCommonTableSection sectionsWithData:data];
    return [BrasilInvite outBoldQuantityry:data];
}

//: - (void)addManager:(NSString *)memberId{
- (void)format:(NSString *)memberId{
    //: if (!memberId) {
    if (!memberId) {
        //: return;
        return;
    }
    //: __block typeof(self) wself = self;
    __block typeof(self) wself = self;
    //: [_dataSource addManagers:@[memberId] completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
    [_dataSource descriptionCompletion:@[memberId] completion:^(NSError * _Nonnull error, NSString * _Nonnull msg) {
        //: [wself showToastMsg:msg];
        [wself show:msg];
    //: }];
    }];
}

//: @end
@end